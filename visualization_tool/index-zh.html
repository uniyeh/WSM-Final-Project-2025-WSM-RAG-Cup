<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAG Evaluation Visualizer(zh)</title>
    <style>
        :root {
            --bg-color: #0f172a;
            --text-color: #e2e8f0;
            --primary-color: #3b82f6;
            --secondary-color: #1e293b;
            --accent-color: #60a5fa;
            --success-color: #22c55e;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --border-color: #334155;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            margin-bottom: 2rem;
            text-align: center;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .upload-section {
            background-color: var(--secondary-color);
            border: 2px dashed var(--border-color);
            border-radius: 1rem;
            padding: 2rem;
            text-align: center;
            margin-bottom: 2rem;
            transition: border-color 0.3s ease;
        }

        .upload-section:hover {
            border-color: var(--primary-color);
        }

        input[type="file"] {
            display: none;
        }

        .custom-file-upload {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            background-color: var(--primary-color);
            color: white;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: background-color 0.3s ease;
        }

        .custom-file-upload:hover {
            background-color: var(--accent-color);
        }

        .metrics-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .metric-card {
            background-color: var(--secondary-color);
            padding: 1.5rem;
            border-radius: 0.75rem;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent-color);
        }

        .baseline-value {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--primary-color);
            opacity: 0;
        }

        .metric-label {
            font-size: 0.875rem;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background-color: var(--secondary-color);
            border-radius: 0.75rem;
            overflow: hidden;
        }

        th,
        td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background-color: #1e293b;
            font-weight: 600;
            color: #94a3b8;
            cursor: pointer;
            user-select: none;
        }

        th:hover {
            color: var(--text-color);
        }

        tr:hover {
            background-color: #2d3748;
        }

        .score-cell {
            font-family: 'Roboto Mono', monospace;
            font-weight: 600;
        }

        .expand-btn {
            background: none;
            border: none;
            color: var(--accent-color);
            cursor: pointer;
            font-size: 1.2rem;
        }

        .details-row {
            display: none;
            background-color: #1a202c;
        }

        .details-content {
            padding: 1.5rem;
        }

        .detail-section {
            margin-bottom: 1.5rem;
        }

        .detail-title {
            font-weight: 600;
            color: #94a3b8;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .detail-text {
            background-color: #2d3748;
            padding: 1rem;
            border-radius: 0.5rem;
            white-space: pre-wrap;
            font-family: 'Roboto Mono', monospace;
            font-size: 0.9rem;
        }

        .references-list {
            list-style-type: disc;
            padding-left: 1.5rem;
        }

        .references-list li {
            margin-bottom: 0.5rem;
        }

        .score-high {
            color: var(--success-color);
        }

        .score-med {
            color: var(--warning-color);
        }

        .score-low {
            color: var(--danger-color);
        }

        .diff-positive {
            color: var(--success-color);
            font-size: 0.8em;
            margin-left: 4px;
        }

        .diff-negative {
            color: var(--danger-color);
            font-size: 0.8em;
            margin-left: 4px;
        }

        .diff-neutral {
            color: #94a3b8;
            font-size: 0.8em;
            margin-left: 4px;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>RAG Evaluation Visualizer(zh, 1204)</h1>
            <p>Upload your <code>.jsonl</code> score file to visualize the results.</p>
        </header>

        <div class="upload-section">
            <label for="file-upload" class="custom-file-upload">
                Choose File
            </label>
            <input id="file-upload" type="file" accept=".jsonl" />
            <p id="file-name" style="margin-top: 1rem; color: #94a3b8;"></p>
        </div>

        <div id="dashboard" style="display: none;">
            <div class="metrics-summary">
                <div class="metric-card">
                    <div class="metric-value" id="avg-sentences-precision">0.00</div>
                    <div class="baseline-value" id="avg-sentences-precision-bs">=</div>
                    <div class="metric-label">Avg Sentences Precision</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="avg-sentences-recall">0.00</div>
                    <div class="baseline-value" id="avg-sentences-recall-bs">=</div>
                    <div class="metric-label">Avg Sentences Recall</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="avg-sentences-f1">0.00</div>
                    <div class="baseline-value" id="avg-sentences-f1-bs">=</div>
                    <div class="metric-label">Avg Sentences F1</div>
                </div>
            </div>
            <div class="metrics-summary">
                <div class="metric-card">
                    <div class="metric-value" id="avg-words-precision">0.00</div>
                    <div class="baseline-value" id="avg-words-precision-bs">=</div>
                    <div class="metric-label">Avg Words Precision</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="avg-words-recall">0.00</div>
                    <div class="baseline-value" id="avg-words-recall-bs">=</div>
                    <div class="metric-label">Avg Words Recall</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="avg-words-f1">0.00</div>
                    <div class="baseline-value" id="avg-words-f1-bs">=</div>
                    <div class="metric-label">Avg Words F1</div>
                </div>
            </div>
            <div class="metrics-summary">
                <div class="metric-card">
                    <div class="metric-value" id="avg-rouge">0.00</div>
                    <div class="baseline-value" id="avg-rouge-bs">=</div>
                    <div class="metric-label">Avg ROUGE-L</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="avg-completeness">0.00</div>
                    <div class="baseline-value" id="avg-completeness-bs">=</div>
                    <div class="metric-label">Avg Completeness</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="avg-hallucination">0.00</div>
                    <div class="baseline-value" id="avg-hallucination-bs">=</div>
                    <div class="metric-label">Avg Hallucination</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="avg-irrelevance">0.00</div>
                    <div class="baseline-value" id="avg-irrelevance-bs">=</div>
                    <div class="metric-label">Avg Irrelevance</div>
                </div>
            </div>

            <table id="results-table">
                <thead>
                    <tr>
                        <th width="50"></th>
                        <th onclick="sortTable('query_id')">ID ↕</th>
                        <th>Query</th>
                        <th onclick="sortTable('Sentences_Precision')">Sent Prec ↕</th>
                        <th onclick="sortTable('Sentences_Recall')">Sent Rec ↕</th>
                        <th onclick="sortTable('Sentences_F1')">Sent F1 ↕</th>
                        <th onclick="sortTable('Words_Precision')">Words Prec ↕</th>
                        <th onclick="sortTable('Words_Recall')">Words Rec ↕</th>
                        <th onclick="sortTable('Words_F1')">Words F1 ↕</th>
                        <th onclick="sortTable('ROUGELScore')">ROUGE-L ↕</th>
                        <th onclick="sortTable('completeness')">Comp ↕</th>
                        <th onclick="sortTable('hallucination')">Hallu ↕</th>
                        <th onclick="sortTable('irrelevance')">Irrel ↕</th>
                    </tr>
                </thead>
                <tbody id="table-body">
                    <!-- Rows will be populated here -->
                </tbody>
            </table>
        </div>
    </div>

    <script id="initial-data" type="text/plain">
        {"domain": "Finance", "language": "zh", "query": {"query_id": 231, "query_type": "多跳推理问题", "content": "结合文化传媒有限公司2019年的社会责任报告，文化传媒有限公司是如何通过实施员工健康与安全计划和员工职业成长与人才发展计划来提升员工满意度的？"}, "ground_truth": {"doc_ids": [7], "content": "文化传媒有限公司通过实施员工健康与安全计划，提供定期健康体检和职业卫生培训，显著改善了工作环境，减少了工伤事故发生率，提高了员工的健康与安全水平。同时，公司还提供多种培训和发展项目，如在线课程、工作坊和导师计划，帮助员工实现个人职业成长。这些措施提高了员工的专业技能和工作满意度，促进了人才的留存和发展，从而提升了员工满意度。", "references": ["在社会责任方面，公司于2019年4月实施了一系列旨在提升员工健康与安全的措施，包括定期健康体检和职业卫生培训等。", "这些措施显著改善了工作环境，减少了工伤事故发生率，提高了员工的健康与安全水平。", "为了促进员工的职业成长和人才发展，公司于2019年7月为员工提供了多种培训和发展项目，如在线课程、工作坊和导师计划等。", "这些计划提高了员工的专业技能和工作满意度，促进了人才的留存和发展。"], "keypoints": ["1. 公司实施了员工健康与安全计划，提供定期健康体检和职业卫生培训。", "2. 员工健康与安全计划显著改善了工作环境，减少了工伤事故发生率。", "3. 公司提供多种培训和发展项目，如在线课程、工作坊和导师计划。", "4. 这些措施帮助员工实现个人职业成长，提高了专业技能和工作满意度。", "5. 提升员工满意度有助于留住人才并促进其发展。"]}, "prediction": {"content": "文化传媒有限公司通过实施员工健康与安全计划，如定期体检和职业卫生培训，提高了工作环境和减少了工伤事故。同时，通过职业成长与人才发展计划，如在线课程、工作坊和导师计划，提升员工的专业技能和满意度。", "references": ["在社会责任方面，公司于2019年4月实施了一系列旨在提升员工健康与安全的措施，包括定期健康体检和职业卫生培训等。这些措施显著改善了工作环境，减少了工伤事故发生率，提高了员工的健康与安全水平。", "在可持续性与社会责任倡议方面，文化传媒有限公司在2019年12月取得了重大进展。公司在可持续性、环境保护、社会责任和企业公民方面取得了重大进展。这些举措有助于提升公司公众形象和市场竞争力，促进长期可持续发展。", "综上所述，文化传媒有限公司在2019年度取得了显著的成绩，并制定了未来的发展计划和风险管理策略。公司将继续努力提升业务水平，优化财务状况，实现可持续发展。", "为了促进员工的职业成长和人才发展，公司于2019年7月为员工提供了多种培训和发展项目，如在线课程、工作坊和导师计划等。这些计划提高了员工的专业技能和工作满意度，促进了人才的留存和发展。", "为了提升社会责任履行水平和企业形象，公司于2019年6月委托专业机构对其社会责任履行情况进行评估。评估结果为公司提供了管理建议和改进方向，帮助公司提升社会责任履行水平和企业形象。"]}, "ROUGELScore": 0.5972222175704089, "Words_Precision": 0.5495495495495496, "Words_Recall": 1.0, "Sentences_Precision": 0.40563991323210413, "Sentences_Recall": 0.9842105263157894, "completeness": 0.4, "hallucination": 0.6, "irrelevance": 0.0, "responses": {"complete_ids": [1, 2], "irrelevant_ids": [], "hallucinate_ids": []}}
{"domain": "Finance", "language": "zh", "query": {"query_id": 347, "query_type": "总结性问题", "content": "结合智慧教育科技有限公司2021年的环境与社会责任报告，总结其关键指标及其影响。"}, "ground_truth": {"doc_ids": [27], "content": "智慧教育科技有限公司2021年的环境与社会责任报告中提到的关键指标包括二氧化碳排放量、能源消耗、员工满意度和社区投资额。首先，公司的二氧化碳排放量从10000吨减少到8000吨，能源消耗从5000万千瓦时降低到4000万千瓦时。员工满意度从80%提高到85%，社区投资额达到1000万元。这些关键指标反映了公司在环境保护和社会责任方面的努力和成效。", "references": ["根据数据显示，公司的二氧化碳排放量从10000吨减少到8000吨，能源消耗从5000万千瓦时降低到4000万千瓦时。", "根据数据显示，员工满意度从80%提高到85%，社区投资额达到1000万元。"], "keypoints": ["1. 智慧教育科技有限公司2021年的关键指标包括二氧化碳排放量、能源消耗、员工满意度和社区投资额。", "2. 二氧化碳排放量从10000吨减少到8000吨，能源消耗从5000万千瓦时降低到4000万千瓦时。", "3. 员工满意度从80%提高到85%。", "4. 社区投资额达到1000万元。"]}, "prediction": {"content": "智慧教育科技有限公司在2021年的环境与社会责任报告中，取得了显著成果。关键指标包括减少能源消耗和温室气体排放，提升产品市场竞争力和品牌形象，以及提高员工满意度和社区福祉。这些成果得益于公司的公共服务项目、员工职业成长计划和慈善活动。", "references": ["综上所述，智慧教育科技有限公司在环境责任和社会责任方面取得了显著成果。通过一系列重要事件和措施，公司成功减少了能源消耗和温室气体排放，提升了产品的市场竞争力和品牌形象，加强了与社区的联系和支持。同时，公司通过投资于公共服务项目、员工职业成长计划和慈善活动，提高了员工满意度和社区的整体福祉。未来，公司将继续致力于环境保护和社会责任，实现可持续发展目标。", "公司一直致力于环境保护和社会责任，通过一系列重要事件和措施，取得了显著的成果。", "这些社会责任举措的实施对公司的指标产生了积极影响。根据数据显示，员工满意度从80%提高到85%，社区投资额达到1000万元。这些指标的改善主要得益于公司公共服务项目的参与和员工职业成长计划的推行。", "综上所述，智慧教育科技有限公司在环境责任和社会责任方面取得了显著成果。通过一系列重要事件和措施，公司成功减少了能源消耗和温室气体排放，提升了产品的市场竞争力和品牌形象，加强了与社区的联系和支持。同时，公司通过投资于公共服务项目、员工职业成长计划和慈善活动，提高了员工满意度和社区的整体福祉。未来，公司将继续致力于环境保护和社会责任，实现可持续发展目标。", "这些环境责任举措的实施对公司的指标产生了积极影响。根据数据显示，公司的二氧化碳排放量从10000吨减少到8000吨，能源消耗从5000万千瓦时降低到4000万千瓦时。这些指标的改善主要得益于公司节能减排项目的实施和环境管理体系的建立。此外，公司还通过绿色产品开发和减少塑料废物的措施，进一步降低了环境影响。"]}, "ROUGELScore": 0.39726026910771256, "Words_Precision": 0.2743362831858407, "Words_Recall": 1.0, "Sentences_Precision": 0.14705882352941177, "Sentences_Recall": 0.9895833333333334, "completeness": 0.5, "hallucination": 0.25, "irrelevance": 0.25, "responses": {"complete_ids": [1, 2], "irrelevant_ids": [3], "hallucinate_ids": []}}
{"domain": "Finance", "language": "zh", "query": {"query_id": 115, "query_type": "多跳推理问题", "content": "结合社交科技有限公司2017年度环境与社会责任报告，社交科技有限公司是如何通过员工职业成长和人才发展计划以及员工健康与安全计划来提升员工满意度的？"}, "ground_truth": {"doc_ids": [31], "content": "社交科技有限公司在2017年通过实施员工职业成长和人才发展计划，提供培训和发展项目，支持员工职业成长；同时，通过员工健康与安全计划，实施措施保障员工的身心健康。这些措施改善了工作环境和员工福利，显著提升了员工的满意度。", "references": ["随后，在2017年6月，公司提供了员工职业成长和人才发展计划，通过培训和发展项目支持员工的职业成长。", "此外，公司还在2017年10月实施了员工健康与安全计划，保障员工的身心健康。", "根据数据显示，公司的员工满意度达到了85%，受到工作环境改善和员工福利政策调整的影响。"], "keypoints": ["1. 公司通过员工职业成长和人才发展计划提供培训和发展项目，支持员工的职业成长。", "2. 公司通过员工健康与安全计划实施措施保障员工的身心健康。", "3. 这些措施改善了工作环境和员工福利。", "4. 这些措施显著提升了员工的满意度。"]}, "prediction": {"content": "社交科技有限公司通过提供员工职业成长和人才发展计划、投资公共服务项目和推动公平就业计划来提升员工满意度。同时，通过实施员工健康与安全计划也有助于提高员工满意度。", "references": ["这些社会责任举措对公司的指标产生了积极的影响。根据数据显示，公司的员工满意度达到了85%，受到工作环境改善和员工福利政策调整的影响。此外，公司在2017年度投资了$2,500,000用于社区发展，受到公司财务状况和社会责任战略变化的影响。", "综上所述，社交科技有限公司在2017年度在环境责任和社会责任方面取得了显著的成绩。公司通过一系列重要的举措，减少了碳排放量、能源消耗和环境污染，同时支持了社区发展、员工职业成长和公益活动。公司未来将继续致力于环境保护和社会责任，为可持续发展做出贡献。", "在社会责任方面，社交科技有限公司也采取了一系列重要的举措。首先，在2017年5月，公司投资于当地社区，支持教育、健康和社会发展项目。随后，在2017年6月，公司提供了员工职业成长和人才发展计划，通过培训和发展项目支持员工的职业成长。此外，公司还在2017年7月投资或参与了公共服务项目，提升了社区居民的生活质量。为了确保公平就业，公司在2017年8月推动了公平就业计划，确保招聘和晋升过程的公正性。在2017年9月，公司积极参与或资助了慈善活动和慈善机构，支持教育、健康、减贫等社会福利领域。此外，公司还在2017年10月实施了员工健康与安全计划，保障员工的身心健康。", "另外，在2017年9月，社交科技有限公司积极参与了可持续性和社会责任倡议。公司将可持续发展和社会责任纳入公司战略，并制定了相关政策和措施。这些举措旨在促进公司的可持续发展，识别与之相关的风险和机会，并推动长期价值的创造。", "未来展望方面，社交科技有限公司将继续致力于环境保护。公司计划在2018年推广节能技术、优化生态设计，并继续投资环保项目。在社会责任方面，公司将积极履行社会责任，包括促进社区发展、改善员工福利、提供公平就业机会和参与公益活动。此外，公司还将整合可持续性原则到业务模型和决策过程中，以实现联合国可持续发展目标（SDGs）。"]}, "ROUGELScore": 0.47999999516200004, "Words_Precision": 0.2616279069767442, "Words_Recall": 1.0, "Sentences_Precision": 0.16354556803995007, "Sentences_Recall": 0.9849624060150376, "completeness": 0.5, "hallucination": 0.25, "irrelevance": 0.25, "responses": {"complete_ids": [1, 2], "irrelevant_ids": [3], "hallucinate_ids": []}}
{"domain": "Finance", "language": "zh", "query": {"query_id": 0, "query_type": "无关无解问", "content": "绿源环保有限公司在2017年12月设立了什么子公司？"}, "ground_truth": {"doc_ids": [5], "content": "无法回答", "references": [], "keypoints": ["无法回答"]}, "prediction": {"content": "无法回答。", "references": ["绿源环保有限公司是一家成立于2005年6月的环保企业，主要从事绿色能源的研发、生产和销售业务，注册地位于北京市，目前尚未上市。", "首先，公司在2017年2月完成了资产重组计划的制定，并得到股东的确认和支持。这一举措为后续的升级改造和新建绿色能源科技园提供了决策依据，并增强了公司的经营能力和竞争力。随后，在2017年3月，公司确定了旧工厂升级改造方案，包括设备更新、生产线调整和工艺改进等措施。这一举措进一步提高了生产效率和产品质量，为资产重组的顺利进行提供了有力支撑。", "2017年是绿源环保有限公司发展的关键一年。在财务信息方面，公司完成了一系列重要的资产重组和投资活动，为公司的未来发展奠定了坚实基础。", "为了提升可持续性和社会责任，绿源环保有限公司于2017年2月推出了一系列倡议。这些倡议旨在推动公司在可持续发展和社会责任方面的表现，并与相关利益相关者合作，共同推动环保事业的发展。", "在资金方面，公司于2017年3月成功募集了5亿元资金，大规模融资进一步加强了公司的资金实力，支持了公司的扩张和发展。此外，公司还进行了债务重组，于2017年6月减少了1亿元负债，改善了公司的财务状况，降低了财务成本。"]}, "ROUGELScore": 0.6666666622222223, "Words_Precision": 0.0, "Words_Recall": 0.0, "Sentences_Precision": 0.0, "Sentences_Recall": 0.0, "completeness": 1.0, "hallucination": 0.0, "irrelevance": 0.0, "responses": {"complete_ids": [1], "irrelevant_ids": [], "hallucinate_ids": []}}
{"domain": "Finance", "language": "zh", "query": {"query_id": 464, "query_type": "多跳推理问题", "content": "根据拓远科技有限公司2021年的财务报告，拓远科技是如何通过债务重组和分发股利来改善其财务状况的？"}, "ground_truth": {"doc_ids": [6], "content": "拓远科技有限公司在2021年进行了债务重组，减少了2亿元负债，这改善了公司的财务状况，降低了财务成本。此外，公司决定向股东分发1.5元股利，回报给股东们的投资，提升了股东的收益。这些措施综合改善了公司的财务状况。", "references": ["首先，在2021年1月，公司决定向股东分发1.5元股利，这是公司董事会决定将部分利润用于股利分配的结果。", "这一举措不仅回报了股东们的投资，提升了股东的收益，还体现了公司对股东权益的重视。", "最后，在2021年10月，拓远科技进行了债务重组，减少了2亿元负债。", "这一举措改善了公司的财务状况，降低了财务成本。", "通过债务重组，公司能够减少负债压力，提高资金利用效率，为公司的可持续发展创造更好的条件。"], "keypoints": ["1. 拓远科技有限公司在2021年进行了债务重组，减少了2亿元负债。", "2. 债务重组改善了公司的财务状况，降低了财务成本。", "3. 公司决定向股东分发1.5元股利。", "4. 分发股利回报给股东们的投资，提升了股东的收益。"]}, "prediction": {"content": "拓远科技通过2021年的债务重组减少2亿元负债，降低了财务成本并提高了资金利用效率。同时，通过股利分配和其他业务优化措施，公司改善了其财务状况，实现可持续发展目标。", "references": ["最后，在2021年10月，拓远科技进行了债务重组，减少了2亿元负债。这一举措改善了公司的财务状况，降低了财务成本。通过债务重组，公司能够减少负债压力，提高资金利用效率，为公司的可持续发展创造更好的条件。", "综上所述，拓远科技在2021年度取得了一系列重要的财务成果和业务发展，通过股利分配、资产重组、股权收购、资产收购、融资活动、投资和债务重组等举措，公司不断拓展业务领域，提升市场竞争力，改善财务状况，实现了可持续发展的目标。", "在2021年度，拓远科技取得了一系列重要的财务成果和业务发展。首先，在2021年1月，公司决定向股东分发1.5元股利，这是公司董事会决定将部分利润用于股利分配的结果。这一举措不仅回报了股东们的投资，提升了股东的收益，还体现了公司对股东权益的重视。同时，这一事件也反映了公司财务报告的准确性和合规性，因为在2021年1月，公司完成了2020年度财务报告的编制和审核。", "其次，在2021年3月，拓远科技进行了一次资产重组，优化了公司的业务结构。这一举措的目的是提高公司的运营效率，增加公司的价值。通过优化业务结构，公司能够更好地适应市场需求，提供更优质的产品和服务。这一事件对公司的营业收入和净利润产生了积极影响。", "以上事件和举措对拓远科技的财务指标产生了重要影响。首先，营业收入在2021年度达到了100亿元，这是公司不断拓展业务和优化结构的结果。其次，净利润达到了8亿元，这是营业收入增加和成本控制的效果。总资产达到了150亿元，这是资产收购和资产重估的结果。总负债减少到了50亿元，这是债务重组的效果。股东权益达到了100亿元，这是净利润和股利发放的影响。现金流量达到了25亿元，这是公司经营活动和融资活动的结果。负债比率为33.3%，资产负债率为50%，净资产收益率为10%，这些指标反映了公司的财务状况和经营效益。"]}, "ROUGELScore": 0.42592592103566534, "Words_Precision": 0.4358974358974359, "Words_Recall": 1.0, "Sentences_Precision": 0.24935400516795866, "Sentences_Recall": 0.9796954314720813, "completeness": 0.5, "hallucination": 0.25, "irrelevance": 0.25, "responses": {"complete_ids": [1, 2], "irrelevant_ids": [3], "hallucinate_ids": []}}
{"domain": "Finance", "language": "zh", "query": {"query_id": 580, "query_type": "多跳推理问题", "content": "根据创新科技有限公司2020年9月的风险管理举措，公司是如何通过风险识别和缓解策略的实施来保障持续运营和稳定发展的？"}, "ground_truth": {"doc_ids": [4], "content": "在2020年9月，创新科技有限公司更新了风险管理框架，首先通过全面的风险识别，找出了公司面临的内外部风险。然后，公司实施了相应的缓解策略，包括加强内部控制、优化运营流程和制定应急预案。这些措施提高了公司对风险的应对能力，有效保障了公司的持续运营和稳定发展。", "references": ["公司于2020年9月更新了风险管理框架，识别新的风险并实施缓解策略。", "该风险管理举措的更新提高了公司对内外部风险的应对能力，有效保障了公司的持续运营和稳定发展。"], "keypoints": ["1. 创新科技有限公司在2020年9月更新了风险管理框架。", "2. 公司进行了全面的风险识别，找出了内外部风险。", "3. 公司实施了缓解策略，包括加强内部控制、优化运营流程和制定应急预案。", "4. 这些措施提高了公司对风险的应对能力，保障了持续运营和稳定发展。"]}, "prediction": {"content": "创新科技有限公司通过强化内部控制系统、识别评估监控财务运营风险来提高抵御风险能力，以及将可持续发展和社会责任纳入战略来识别相关风险机会，确保持续运营稳定发展。", "references": ["为应对风险，创新科技有限公司制定了风险管理策略。首先，公司将进一步强化内部控制系统，建立和完善内部控制体系，识别、评估、监控和报告财务和运营风险，提高公司抵御风险的能力。其次，公司将将可持续发展和社会责任纳入公司战略，识别相关风险和机会，促进长期价值创造。", "公司于2020年9月更新了风险管理框架，识别新的风险并实施缓解策略。该风险管理举措的更新提高了公司对内外部风险的应对能力，有效保障了公司的持续运营和稳定发展。", "在可持续性与社会责任倡议方面，创新科技有限公司在2020年2月取得了在可持续性发展、环境保护、社会责任和企业公民方面的重大进展。该可持续性与社会责任倡议提升了公司的公众形象和市场竞争力，促进了公司的长期可持续发展。", "在社会责任方面，创新科技有限公司也采取了一系列措施。首先，公司于2020年1月实施了员工健康与安全计划，显著改善了工作环境，减少了工伤事故，提高了员工的健康与安全水平。", "综上所述，创新科技有限公司在2020年度取得了较好的业绩，并制定了一系列的发展计划和策略，以应对未来的挑战和机遇。公司将继续致力于创新和发展，为股东创造更大的价值。"]}, "ROUGELScore": 0.2758620643460167, "Words_Precision": 0.30357142857142855, "Words_Recall": 1.0, "Sentences_Precision": 0.16322314049586778, "Sentences_Recall": 0.9875, "completeness": 0.5, "hallucination": 0.5, "irrelevance": 0.0, "responses": {"complete_ids": [1, 2], "irrelevant_ids": [], "hallucinate_ids": []}}
{"domain": "Finance", "language": "zh", "query": {"query_id": 696, "query_type": "总结性问题", "content": "结合喜乐娱乐集团2017年的财务报告，总结其在2017年发生的财务事件。"}, "ground_truth": {"doc_ids": [20], "content": "根据喜乐娱乐集团2017年的财务报告，2017年公司发生了多起重要的财务事件。首先，公司在1月完成了对天骄影业的股权收购，获得了70%的股权，进一步扩大了市场份额；3月，公司进行了资产重组，将电影制作、演艺经纪和音乐制作业务整合为新的子公司“喜乐娱乐影视集团”，优化了业务结构；5月，公司完成了对魅力音乐的资产收购，总价值1.2亿美元，增强了市场竞争力；6月，公司进行了债务重组，减少了5亿美元负债，改善了财务状况；8月，公司投资了D项目，投资金额为8000万美元，拓宽了业务领域；9月，公司进行了大规模融资活动，募集了10亿美元资金，支持了扩张和发展；10月，公司决定向股东分发2亿美元股利，提升了股东的收益。这些事件综合提升了公司的财务状况和市场竞争力。", "references": ["首先，公司于2017年1月完成了对天骄影业的股权收购，获得了70%的股权。", "随后，在2017年3月，公司进行了一次资产重组，将旗下的电影制作、演艺经纪和音乐制作业务整合为新的子公司“喜乐娱乐影视集团”。", "在2017年5月，公司完成了对魅力音乐的资产收购，总价值1.2亿美元。", "为了改善公司的财务状况，公司于2017年6月进行了债务重组，减少了5亿美元负债。", "在2017年8月，公司投资了D项目，投资金额为8000万美元。", "为了支持公司的扩张和发展，公司于2017年9月进行了一次大规模的融资活动，募集了10亿美元资金。", "在2017年10月，公司决定向股东分发2亿美元股利，回报给股东们的投资，提升了股东的收益。"], "keypoints": ["1. 公司在1月完成了对天骄影业的股权收购，获得了70%的股权。", "2. 3月，公司进行了资产重组，将电影制作、演艺经纪和音乐制作业务整合为新的子公司“喜乐娱乐影视集团”。", "3. 5月，公司完成了对魅力音乐的资产收购，总价值1.2亿美元。", "4. 6月，公司进行了债务重组，减少了5亿美元负债。", "5. 8月，公司投资了D项目，投资金额为8000万美元。", "6. 9月，公司进行了大规模融资活动，募集了10亿美元资金。", "7. 10月，公司决定向股东分发2亿美元股利。"]}, "prediction": {"content": "喜乐娱乐集团在2017年通过多项战略举措扩大业务范围，提升市场竞争力。营业收入达2亿美元，净利润为5000万美元，财务状况稳步提升。公司向股东分发2亿美元股利。", "references": ["综合以上数据和分析，可以看出，喜乐娱乐集团在2017年度取得了良好的财务业绩。公司通过重大股权收购、资产重组、资产收购、债务重组、重大投资、大规模融资等一系列战略举措，不断扩大业务范围，提升市场竞争力，改善财务状况，为未来的发展奠定了坚实的基础。", "以上重要事件对公司的财务状况产生了重要影响。根据公司财务报告，2017年度的营业收入为2亿美元，净利润为5000万美元，总资产为12亿美元，总负债为8亿美元，股东权益为4亿美元，现金流量为1.5亿美元。负债比率为0.67，资产负债率为0.67，净资产收益率为0.15。", "综上所述，喜乐娱乐集团在2017年度取得了显著的发展成果，公司的财务状况稳步提升。未来，公司将继续实施战略举措，加大投资力度，提升盈利能力和市场竞争力，为公司的长期发展打下坚实基础。", "2017年度是喜乐娱乐集团发展的关键一年。在这一年里，公司实施了一系列重要的战略举措，进一步扩大了市场份额，提升了公司的控制力和竞争力。", "在2017年10月，公司决定向股东分发2亿美元股利，回报给股东们的投资，提升了股东的收益。"]}, "ROUGELScore": 0.1872340397283839, "Words_Precision": 0.391304347826087, "Words_Recall": 0.5172413793103449, "Sentences_Precision": 0.0967741935483871, "Sentences_Recall": 0.14754098360655737, "completeness": 0.2857142857142857, "hallucination": 0.42857142857142855, "irrelevance": 0.2857142857142857, "responses": {"complete_ids": [1, 5], "irrelevant_ids": [3, 4], "hallucinate_ids": []}}
{"domain": "Finance", "language": "zh", "query": {"query_id": 811, "query_type": "多跳推理问题", "content": "根据创新科技有限公司的环境与社会责任报告，创新科技有限公司是如何通过再生能源开发、碳抵消项目和生态保护项目来支持其未来的环境保护计划的？"}, "ground_truth": {"doc_ids": [4], "content": "创新科技有限公司通过再生能源开发项目，如太阳能发电和风力发电项目，减少了对化石燃料的依赖，提供了清洁能源，减少了温室气体的排放，并促进了当地经济的可持续发展。通过投资于碳抵消项目，公司努力实现碳中和目标，向利益相关者展示其对环境的承诺和责任。通过生态保护项目，公司增加了野生动植物保护区和植树造林项目，提高了区域环境的质量和可持续发展水平。这些措施为公司未来的环境保护计划提供了坚实的基础。", "references": ["首先，公司于2018年4月投资于再生能源开发项目，包括太阳能发电和风力发电项目。", "这些项目的实施不仅提供了清洁能源，减少了温室气体的排放，还促进了当地经济的可持续发展。", "同时，公司于2018年5月投资于碳抵消项目，通过投资林业项目或可再生能源项目来抵消其碳排放。", "这些碳抵消证书不仅向利益相关者展示了公司对环境的承诺和责任，还为公司创造了更可持续的经营环境。", "此外，公司还于2018年6月投资于当地的生态保护项目，包括增加野生动植物保护区和植树造林项目。", "这些项目的实施提高了区域环境的质量和可持续发展水平。", "未来展望方面，创新科技有限公司将继续致力于环境保护计划，采取一系列措施减少其运营对环境的影响，并不断改进环境管理和节能减排技术。"], "keypoints": ["1. 创新科技有限公司通过再生能源开发项目，如太阳能发电和风力发电项目，减少了对化石燃料的依赖，提供了清洁能源，减少了温室气体的排放，并促进了当地经济的可持续发展。", "2. 公司投资于碳抵消项目，努力实现碳中和目标，向利益相关者展示其对环境的承诺和责任。", "3. 公司通过生态保护项目增加野生动植物保护区和植树造林项目，提高了区域环境的质量和可持续发展水平。"]}, "prediction": {"content": "创新科技有限公司通过投资再生能源开发项目，如太阳能和风力发电，以及参与碳抵消和生态保护项目来支持其未来的环境保护计划。", "references": ["在环境责任方面，创新科技有限公司积极采取了一系列重要举措，以减少对环境的影响并推动可持续发展。首先，公司于2018年4月投资于再生能源开发项目，包括太阳能发电和风力发电项目。这些项目的实施不仅提供了清洁能源，减少了温室气体的排放，还促进了当地经济的可持续发展。", "综上所述，创新科技有限公司在环境责任和社会责任方面取得了一系列成果，通过投资碳抵消项目、实施节能减排项目、建设污染防治设施、优化能源利用、开发绿色产品、采用环境管理系统等措施，减少了对环境的影响，改善了员工的工作环境和福利，促进了社区的可持续发展，提高了公司的社会形象和市场竞争力。未来，公司将继续努力，为实现可持续发展目标做出更大的贡献。", "在环境责任方面，创新科技有限公司采取了一系列措施来减少对环境的影响。首先，公司于2020年1月投资于碳抵消项目，通过投资林业项目或可再生能源项目来抵消其碳排放，努力实现碳中和目标。为了支持这一举措，公司启动了内部碳减排项目，研究和实施减少碳排放的策略和措施。此外，公司与国际碳抵消组织合作，通过购买碳抵消证书来补偿其碳排放，增加了对投资于碳抵消项目的可信度。", "在可持续性与社会责任倡议方面，创新科技有限公司在2020年2月取得了在可持续性发展、环境保护、社会责任和企业公民方面的重大进展。该可持续性与社会责任倡议提升了公司的公众形象和市场竞争力，促进了公司的长期可持续发展。", "展望未来，创新科技有限公司将继续致力于环境保护计划，采取一系列措施减少其运营对环境的影响。公司还将继续推进社会责任战略，积极履行社会责任，促进可持续发展。同时，公司将整合可持续性原则到业务模型和决策过程中，致力于实现联合国可持续发展目标（SDGs），包括减少碳排放、提高员工幸福指数和推动数字包容性等。"]}, "ROUGELScore": 0.35211267264332485, "Words_Precision": 0.46153846153846156, "Words_Recall": 0.75, "Sentences_Precision": 0.11201079622132254, "Sentences_Recall": 0.2601880877742947, "completeness": 0.6666666666666666, "hallucination": 0.0, "irrelevance": 0.3333333333333333, "responses": {"complete_ids": [1, 2], "irrelevant_ids": [3]}}
{"domain": "Finance", "language": "zh", "query": {"query_id": 927, "query_type": "无关无解问", "content": "农业发展有限公司在治理改进计划中增加了什么比例的独立董事？"}, "ground_truth": {"doc_ids": [1], "content": "无法回答", "references": [], "keypoints": ["无法回答"]}, "prediction": {"content": "无法回答。", "references": ["为了加强公司治理政策，公司在2021年10月加强了信息披露要求，提高了透明度和问责制度。这一举措有助于增强投资者对公司的信心，获得更多发展机会。", "在2021年，农业发展有限公司在公司治理方面采取了一系列重要的举措，以提高透明度、加强合规性，并提升公司的可持续发展能力。", "以上事件和举措对公司的治理结构和发展产生了积极影响。公司通过加强内部控制、更新合规与监管制度、增加农业行业经验的董事、推动可持续发展和社会责任倡议、加强信息披露要求、任命具有丰富农业管理经验的首席执行官以及加强风险管理措施等举措，提高了公司的透明度、合规性、可持续发展能力和抗风险能力。", "在董事会方面，公司在2021年4月增加了两位具有丰富农业行业经验的新任董事。这一举措为公司提供了更多的专业知识和战略指导，以应对市场波动。"]}, "ROUGELScore": 0.6666666622222223, "Words_Precision": 0.0, "Words_Recall": 0.0, "Sentences_Precision": 0.0, "Sentences_Recall": 0.0, "completeness": 1.0, "hallucination": 0.0, "irrelevance": 0.0, "responses": {"complete_ids": [1], "irrelevant_ids": [], "hallucinate_ids": []}}
{"domain": "Finance", "language": "zh", "query": {"query_id": 1043, "query_type": "总结性问题", "content": "结合爱康医疗集团2019年的财务报告，总结其未来展望。"}, "ground_truth": {"doc_ids": [29], "content": "根据爱康医疗集团2019年的财务报告，公司对未来展望充满信心。首先，爱康医疗集团将继续加强成本控制，提高资本运作效率，以稳定和增加收益；其次，公司计划增加在医疗技术领域的研发投入，开拓更多高端医疗项目；此外，公司将持续关注医疗行业政策变化、竞争压力和产品质量安全等风险，并制定相应的应对策略。总体来看，爱康医疗集团的未来发展战略明确，前景光明。", "references": ["未来，爱康医疗集团将继续加强成本控制，提高资本运作效率，以稳定和增加收益。", "公司计划增加在医疗技术领域的研发投入，开拓更多高端医疗项目。", "同时，公司将持续关注医疗行业政策变化、竞争压力和产品质量安全等风险，并制定相应的应对策略。"], "keypoints": ["1. 公司将继续加强成本控制，提高资本运作效率。", "2. 公司计划增加在医疗技术领域的研发投入，开拓更多高端医疗项目。", "3. 公司将持续关注医疗行业政策变化、竞争压力和产品质量安全等风险，并制定相应的应对策略。"]}, "prediction": {"content": "爱康医疗集团预计将加强成本控制、提高资本运作效率，并扩大在医疗技术领域的研发投入，以稳定和增加收益。同时，公司将持续关注政策变化、竞争压力和产品质量安全等风险，并制定应对策略。", "references": ["综上所述，2019年度是爱康医疗集团取得重要进展的一年。通过重大事件的推动，公司进一步扩大了市场份额，拓宽了业务领域，增强了市场竞争力。同时，公司的财务指标也取得了良好的表现，营业收入、净利润、总资产、总负债、股东权益、现金流量、负债比率、资产负债率和净资产收益率均呈现出积极的变化。未来，爱康医疗集团将继续加强成本控制，提高资本运作效率，以稳定和增加收益。公司计划增加在医疗技术领域的研发投入，开拓更多高端医疗项目。同时，公司将持续关注医疗行业政策变化、竞争压力和产品质量安全等风险，并制定相应的应对策略。", "在涉及的指标方面，爱康医疗集团在信息披露方面表现良好，2019年情况良好，信息及时准确地披露给利益相关者。在关联交易方面，公司严格执行关联交易政策和流程，公正合规，无法律冲突。在内部控制方面，公司的内控体系完善，监控效果评估有效，对财务和运营风险起到了作用。", "在财务信息方面，爱康医疗集团在2019年度取得了以下指标。首先，公司的营业收入为20亿元人民币。营业收入受市场需求和产品价格变化的影响。其次，公司的净利润为2亿元人民币。净利润受营业收入、成本控制和非经常性损益的影响。第三，公司的总资产为30亿元人民币。总资产受资产收购、资产处置和资产重估的影响。第四，公司的总负债为10亿元人民币。总负债受新债发行、债务偿还和债务重组的影响。第五，公司的股东权益为20亿元人民币。股东权益受净利润、股利发放和资本公积的影响。第六，公司的现金流量为3亿元人民币。现金流量受经营活动、投资活动和筹资活动的影响。第七，公司的负债比率为33.33%。负债比率反映了公司的债务水平，受总负债的变化和总资产的变化的影响。最后，公司的资产负债率为33.33%。资产负债率衡量了公司财务杠杆的一个指标，受资产和负债的增减变化的影响。此外，公司的净资产收益率为10%，反映了公司股东权益的经营效益，受净利润的变化和股东权益的变化的影响。", "爱康医疗集团是一家在2005年3月成立的医疗服务供应商，在北京市注册，并在香港交易所上市，主营业务涵盖体检、医疗影像、检验等多项医疗服务。", "公司治理结构方面，爱康医疗集团在2019年经历了一系列重要事件。首先，在2019年1月，公司修订了治理政策，旨在增强透明度和问责制，并加强利益相关者的参与。这一举措提升了公司治理的透明度和问责制，增强了利益相关者对公司的信心。"]}, "ROUGELScore": 0.530612240366514, "Words_Precision": 0.23557692307692307, "Words_Recall": 1.0, "Sentences_Precision": 0.11244979919678715, "Sentences_Recall": 0.9824561403508771, "completeness": 0.3333333333333333, "hallucination": 0.0, "irrelevance": 0.6666666666666666, "responses": {"complete_ids": [1], "irrelevant_ids": [2, 3]}}
{"domain": "Finance", "language": "zh", "query": {"query_id": 1159, "query_type": "总结性问题", "content": "结合媒体之星有限公司2017年的环境与社会责任报告，总结其未来展望。"}, "ground_truth": {"doc_ids": [37], "content": "根据媒体之星有限公司2017年的环境与社会责任报告，公司对未来展望充满信心。首先，公司计划采取一系列措施减少其运营对环境的影响，包括进一步提升能源利用效率和推行再生能源；其次，公司将在业务实践中积极履行社会责任，包括促进社区发展、改善员工福利、提供公平就业机会和参与公益活动；此外，公司致力于实现联合国可持续发展目标（SDGs），通过整合可持续性原则到业务模型和决策过程中，推动减贫、质量教育和清洁能源等目标的实现。总体来看，媒体之星有限公司的未来发展战略明确，前景光明。", "references": ["展望未来，公司将继续致力于环境保护计划，采取一系列措施减少其运营对环境的影响，包括进一步提升能源利用效率、推行再生能源等。", "在社会责任战略方面，公司将在业务实践中积极履行社会责任，包括促进社区发展、改善员工福利、提供公平就业机会和参与公益活动。", "此外，公司还将致力于实现联合国可持续发展目标（SDGs），通过整合可持续性原则到业务模型和决策过程中，包括减贫、质量教育和清洁能源等。"], "keypoints": ["1. 公司计划减少运营对环境的影响，包括提升能源利用效率和推行再生能源。", "2. 公司将积极履行社会责任，包括促进社区发展、改善员工福利、提供公平就业机会和参与公益活动。", "3. 公司致力于实现联合国可持续发展目标（SDGs），推动减贫、质量教育和清洁能源等目标的实现。"]}, "prediction": {"content": "媒体之星有限公司计划继续推进环境保护、社会责任战略，并致力于实现联合国可持续发展目标。在社会方面，将加强员工职业成长、公共服务项目和媒体多样性支持，以及参与慈善活动和社区投资。", "references": ["综上所述，媒体之星有限公司在环境责任和社会责任方面取得了显著成绩。通过一系列重要举措，公司减少了环境污染、提高了能源消耗的可持续性，支持员工职业成长和人才发展，参与公共服务项目，支持媒体多样性，参与慈善活动，改善员工健康与安全，支持社区发展。这些举措对公司的指标产生了积极影响，如二氧化碳排放量、能源消耗、员工满意度和社区投资额。展望未来，公司将继续致力于环境保护计划、社会责任战略和可持续发展目标的实现，以进一步提升其环境和社会绩效，树立良好的企业形象和社会声誉。", "展望未来，公司将继续致力于环境保护计划，采取一系列措施减少其运营对环境的影响，包括进一步提升能源利用效率、推行再生能源等。在社会责任战略方面，公司将在业务实践中积极履行社会责任，包括促进社区发展、改善员工福利、提供公平就业机会和参与公益活动。此外，公司还将致力于实现联合国可持续发展目标（SDGs），通过整合可持续性原则到业务模型和决策过程中，包括减贫、质量教育和清洁能源等。这些举措将受到全球可持续发展议程的推动，以及社会投资者和利益相关者的关注。", "除了环境责任，公司还在社会责任方面采取了一系列重要举措。首先，在2017年2月，公司推出了员工职业成长和人才发展计划，提供各类培训和发展项目，支持员工职业成长。这一举措提高了员工的专业技能和工作满意度，促进了人才的留存和发展。此外，公司还在2017年4月投资或参与公共服务项目，如城市绿化、公共卫生改善项目，以提升社区生活质量。这一举措促进了社区的可持续发展，增强了公众对公司的积极感知。在2017年6月，公司积极支持媒体多样性，提供平等的就业机会和维护公正的报道环境。这一举措促进了信息多样性和舆论的自由表达，反映了公司的价值观和社会责任。此外，在2017年8月，公司参与或资助慈善活动和慈善机构，以支持教育、健康、减贫等领域。这一举措提高了公司的社会形象和品牌认知，加强了与社区的联系和支持。在2017年9月，公司实施了员工健康与安全计划，显著改善了工作环境，减少了工伤事故，提高了员工的健康与安全水平。最后，在2017年11月，公司投资于当地社区，支持教育、健康和社会发展项目。这一举措加深了公司与社区的联系，促进了社区的整体福祉和发展。", "综上所述，媒体之星有限公司在2017年度经历了一系列重要的财务事件，这些事件对公司的财务状况和业务发展产生了积极的影响。公司将继续努力优化财务结构，加强创新能力和市场竞争力，以实现可持续发展。"]}, "ROUGELScore": 0.2339181247221368, "Words_Precision": 0.3837837837837838, "Words_Recall": 1.0, "Sentences_Precision": 0.1827016520894072, "Sentences_Recall": 0.9894736842105263, "completeness": 0.6666666666666666, "hallucination": 0.3333333333333333, "irrelevance": 0.0, "responses": {"complete_ids": [1, 2], "irrelevant_ids": [], "hallucinate_ids": []}}
{"domain": "Finance", "language": "zh", "query": {"query_id": 1275, "query_type": "事实性问题", "content": "金融优势有限公司2017年的总资产是多少？"}, "ground_truth": {"doc_ids": [15], "content": "28000万元。", "references": ["总资产为28000万元，总负债为10000万元，股东权益为18000万元。"], "keypoints": ["1. 金融优势有限公司2017年的总资产为28000万元。"]}, "prediction": {"content": "无法回答。", "references": ["除了资产收购，公司还进行了其他重要的财务活动。在2017年2月，公司对旗下电子支付子公司进行了一次资产重组，优化了公司的业务结构。这次重组提高了公司的运营效率，并增加了公司的价值。在2017年5月，公司投资了数字银行项目，投资金额为2000万元。这次投资进一步拓宽了公司的业务领域，提升了公司的盈利能力。此外，公司还于2017年6月完成了对瑞信证券有限责任公司的股权收购，获得了20%的股权。这次收购进一步扩大了公司的市场份额，提升了公司的控制力。", "金融优势有限公司是一家成立于2005年3月12日，总部位于上海市，主要提供金融服务，包括贷款和投资咨询等。公司目前尚未上市，属于金融行业。", "金融优势有限公司还积极参与公共服务项目，如城市绿化和公共卫生改善项目。通过投资或参与这些项目，公司提升了社区的可持续发展，增强了公众对公司的积极感知。", "这次资产收购对公司的财务状况产生了积极影响。根据财务报告，公司的营业收入达到了15000万元，净利润为3500万元。总资产为28000万元，总负债为10000万元，股东权益为18000万元。公司的现金流量为5000万元。负债比率和资产负债率均为35%。净资产收益率为20%。这些指标的变化反映了资产收购对公司财务状况的积极影响。", "为了支持公司的扩张和发展，公司于2017年7月进行了一次大规模的融资活动，募集了5000万元资金。这次融资活动加强了公司的资金实力。另外，公司于2017年8月决定向股东分发1000万元股利，回报给股东们的投资，提升了股东的收益。最后，在2017年10月，公司进行了债务重组，减少了2000万元负债。这次债务重组改善了公司的财务状况，降低了财务成本。"]}, "ROUGELScore": 0.39999999520000007, "Words_Precision": 0.0658682634730539, "Words_Recall": 1.0, "Sentences_Precision": 0.05211267605633803, "Sentences_Recall": 1.0, "completeness": 0.0, "hallucination": 0.0, "irrelevance": 1.0, "responses": {"complete_ids": [], "irrelevant_ids": [1], "hallucinate_ids": []}}
{"domain": "Finance", "language": "zh", "query": {"query_id": 1391, "query_type": "多文档时间序列问题", "content": "比较美好家政服务有限公司和文化传媒有限公司分别进行董事会变更的时间，哪家公司变更时间更早？"}, "ground_truth": {"doc_ids": [14, 7], "content": "美好家政服务有限公司的董事会变更时间更早，发生在2018年6月，而文化传媒有限公司的董事会变更发生在2019年5月。", "references": ["随后，在2018年6月，公司进行了董事会变更，新董事的加入对公司的战略调整和发展产生了重要影响。", "在董事会变更方面，文化传媒有限公司在2019年5月发生了董事会成员的任命或辞职。"], "keypoints": ["1. 美好家政服务有限公司的董事会变更时间更早。", "2. 美好家政服务有限公司的董事会变更发生在2018年6月。", "3. 文化传媒有限公司的董事会变更发生在2019年5月。"]}, "prediction": {"content": "文化传媒有限公司的董事会变更时间比美好家政服务有限公司早。", "references": ["自2018年以来，美好家政服务有限公司经历了一系列重要事件，这些事件对公司的财务状况和业务发展产生了重大影响。", "在董事会变更方面，文化传媒有限公司在2019年5月发生了董事会成员的任命或辞职。这一变更可能导致公司战略调整，影响公司长期发展方向和股东利益。", "在公司治理政策修订方面，文化传媒有限公司在2019年11月修订了公司治理框架或政策，以增强透明度、问责制或利益相关者参与。这一举措旨在增强公司治理透明度和问责制，提升利益相关者信心。"]}, "ROUGELScore": 0.3181818140185951, "Words_Precision": 0.453125, "Words_Recall": 0.8285714285714286, "Sentences_Precision": 0.182648401826484, "Sentences_Recall": 0.449438202247191, "completeness": 0.3333333333333333, "hallucination": 0.0, "irrelevance": 0.6666666666666666, "responses": {"complete_ids": [1], "irrelevant_ids": [2, 3]}}
{"domain": "Finance", "language": "zh", "query": {"query_id": 1506, "query_type": "多文档时间序列问题", "content": "比较华夏娱乐有限公司和绿源环保有限公司分别进行的风险管理举措时间，哪家公司举措时间更早？"}, "ground_truth": {"doc_ids": [0, 5], "content": "绿源环保有限公司的风险管理举措时间更早。", "references": ["最后，在2017年12月，公司采取了一系列风险管理举措，以应对潜在的风险和挑战。", "在风险管理方面，绿源环保有限公司于2017年3月采取了一系列举措来管理风险。"], "keypoints": ["1. 绿源环保有限公司的风险管理举措时间更早。"]}, "prediction": {"content": "绿源环保有限公司于2017年3月采取了风险管理举措。", "references": ["在风险管理方面，绿源环保有限公司于2017年3月采取了一系列举措来管理风险。公司加强了内部控制系统，以确保风险能够被及时发现和应对。此举有助于提高公司的整体风险管理能力，并保护公司的利益和声誉。", "最后，在2017年12月，公司采取了一系列风险管理举措，以应对潜在的风险和挑战。这些举措包括加强内部控制系统，确保公司的运营和财务活动的合规性和稳定性。", "在2017年度的公司环境与社会责任报告中，华夏娱乐有限公司展示了其在环境责任和社会责任方面的努力和成就。", "此外，公司还制定了风险管理策略，以应对潜在的风险和挑战。该策略包括强化内部控制系统，以确保公司的运营和财务活动的合规性和稳定性。同时，公司还将可持续发展和社会责任整合到风险管理中，以确保公司在经济、社会和环境方面的可持续性。"]}, "ROUGELScore": 0.5217391255198489, "Words_Precision": 0.35365853658536583, "Words_Recall": 1.0, "Sentences_Precision": 0.22941176470588234, "Sentences_Recall": 0.9873417721518988, "completeness": 1.0, "hallucination": 0.0, "irrelevance": 0.0, "responses": {"complete_ids": [1], "irrelevant_ids": [], "hallucinate_ids": []}}
{"domain": "Finance", "language": "zh", "query": {"query_id": 1622, "query_type": "多文档信息整合问题", "content": "美好家政服务有限公司和金融优势有限公司在各自的公司治理报告中提到的风险管理举措分别发生在什么时候？"}, "ground_truth": {"doc_ids": [14, 15], "content": "美好家政服务有限公司的风险管理举措发生在2018年2月，金融优势有限公司的风险管理举措发生在2017年7月。", "references": ["在风险管理方面，公司于2018年2月加强了内外部风险识别和应对措施，以降低负面影响。", "为了提高公司对内外部风险的应对能力，保障公司持续运营和稳定发展，在2017年7月，金融优势有限公司采取了一系列风险管理举措。"], "keypoints": ["1. 美好家政服务有限公司的风险管理举措发生在2018年2月。", "2. 金融优势有限公司的风险管理举措发生在2017年7月。"]}, "prediction": {"content": "美好家政服务有限公司在2018年2月加强风险管理措施；金融优势有限公司在2018年3月进行了高级管理层变动。", "references": ["在风险管理方面，公司于2018年2月加强了内外部风险识别和应对措施，以降低负面影响。此外，公司在2018年3月进行了高级管理层变动，新任CEO带来了新的管理理念和发展方向。这一变动对公司的治理结构和战略调整产生了重要影响。", "在风险管理策略方面，公司计划进一步强化内部控制系统，加强监控和管理，确保财务信息的准确性和可靠性。同时，公司将可持续发展和社会责任纳入战略考虑，降低与环境和社会相关的风险。", "综上所述，美好家政服务有限公司在公司治理结构、重要事件及其子事件、涉及的指标、治理改进计划和风险管理策略方面都进行了全面的分析和讨论。公司通过一系列措施和改革，不断提升治理水平和透明度，以确保公司的可持续发展和社会责任。", "为了进一步改进公司治理，公司制定了一系列计划。首先，公司计划加强董事会和监事会的功能，优化决策流程和程序，提高治理水平和效果。其次，公司计划提升透明度和信息披露质量，改进披露流程和标准，并增加投资者关系活动。", "为了提升员工健康与安全，公司在2018年10月实施了一系列旨在提升员工健康与安全的措施。这一举措显著改善了工作环境，减少了工伤事故，提高了员工的健康与安全水平。"]}, "ROUGELScore": 0.5925925875925927, "Words_Precision": 0.248, "Words_Recall": 0.775, "Sentences_Precision": 0.08484848484848485, "Sentences_Recall": 0.4, "completeness": 0.5, "hallucination": 0.0, "irrelevance": 0.5, "responses": {"complete_ids": [1], "irrelevant_ids": [2], "hallucinate_ids": []}}
{"domain": "Finance", "language": "zh", "query": {"query_id": 1738, "query_type": "多文档信息整合问题", "content": "旅游乐园有限公司和云翼航空有限公司分别在何时参与了慈善活动？"}, "ground_truth": {"doc_ids": [34, 39], "content": "旅游乐园有限公司在2020年参与了慈善活动，云翼航空有限公司在2019年11月参与了慈善活动。", "references": ["此外，公司还参与或资助慈善活动和慈善机构，以支持教育、健康、减贫等领域。", "另外，公司于2019年11月参与或资助了慈善活动和慈善机构，以支持教育、健康、减贫等领域。"], "keypoints": ["1. 旅游乐园有限公司在2020年参与了慈善活动。", "2. 云翼航空有限公司在2019年11月参与了慈善活动。"]}, "prediction": {"content": "无法回答。", "references": ["另外，公司于2019年11月参与或资助了慈善活动和慈善机构，以支持教育、健康、减贫等领域。这一举措提高了公司的社会形象和品牌认知，加强了与社区的联系和支持。", "此外，公司还参与或资助慈善活动和慈善机构，以支持教育、健康、减贫等领域。这一举措提高了公司的社会形象和品牌认知，加强了与社区的联系和支持。", "为了更好地履行社会责任，公司于2020年6月设立了名为“旅途之爱”的公益基金，支持教育、环保、贫困减轻等公益项目。通过基金的投入，公司帮助解决了一系列社会问题，提升了公司的社会影响力。", "在社会责任方面，公司将继续参与公众服务项目，支持社区教育，推动员工职业发展等，以履行其社会责任战略。", "为了提升公司的公众形象和市场竞争力，公司在2020年9月积极参与了可持续性和社会责任倡议，推进了低碳旅游和环境保护工作。这一举措有助于提升公司的长期可持续发展。"]}, "ROUGELScore": 0.0769230755029586, "Words_Precision": 0.28421052631578947, "Words_Recall": 1.0, "Sentences_Precision": 0.21715817694369974, "Sentences_Recall": 0.9878048780487805, "completeness": 0.5, "hallucination": 0.5, "irrelevance": 0.0, "responses": {"complete_ids": [1], "irrelevant_ids": [], "hallucinate_ids": []}}
{"domain": "Finance", "language": "zh", "query": {"query_id": 1854, "query_type": "多文档时间序列问题", "content": "比较2020年诚信消费品有限公司和建天建筑有限公司的大规模融资时间，哪家公司的融资时间更早？"}, "ground_truth": {"doc_ids": [32, 35], "content": "2020年建天建筑有限公司的大规模融资时间更早，为2020年1月，而诚信消费品有限公司的大规模融资时间为2020年10月。", "references": ["在2020年10月，公司进行了一次1亿元人民币的大规模融资活动，成功募集了资金。", "首先，在2020年1月，公司进行了一次大规模的融资活动，募集了5000万元资金。"], "keypoints": ["1. 建天建筑有限公司的大规模融资时间更早。", "2. 建天建筑有限公司的大规模融资时间为2020年1月。", "3. 诚信消费品有限公司的大规模融资时间为2020年10月。"]}, "prediction": {"content": "建天建筑有限公司在2020年1月进行了大规模融资活动。无法回答。", "references": ["2020年度是建天建筑有限公司取得重要进展的一年。首先，在2020年1月，公司进行了一次大规模的融资活动，募集了5000万元资金。这一举措加强了公司的资金实力，为公司的扩张和发展提供了支持。", "接着，在2020年3月，公司进行了一次资产重组，优化了公司的业务结构。这一举措提高了公司的运营效率，增加了公司的价值。", "在2020年4月，公司完成了对天华房地产有限公司的资产收购，总价值1000万元。这一举措扩大了公司业务范围，增强了市场竞争力。", "在2020年10月，公司进行了一次1亿元人民币的大规模融资活动，成功募集了资金。这一大规模融资活动加强了公司的资金实力，支持了公司的扩张和发展。这也反映在公司的现金流量指标上，2020年度现金流量为5000万元人民币。", "在2020年7月，公司更新了合规制度，以适应新的证券法和建筑行业规定的变化，加强了内部控制和财务报告的合规性。这一举措确保公司遵守最新法律法规，降低违规风险，保护了公司和股东的合法权益。"]}, "ROUGELScore": 0.41666666222222226, "Words_Precision": 0.24242424242424243, "Words_Recall": 1.0, "Sentences_Precision": 0.18912529550827423, "Sentences_Recall": 0.9876543209876543, "completeness": 0.6666666666666666, "hallucination": 0.3333333333333333, "irrelevance": 0.0, "responses": {"complete_ids": [1, 2], "irrelevant_ids": [], "hallucinate_ids": []}}
{"domain": "Finance", "language": "zh", "query": {"query_id": 1970, "query_type": "多文档时间序列问题", "content": "比较媒体之星有限公司和诚信消费品有限公司绿色产品开发的时间，哪家公司的开发时间更早？"}, "ground_truth": {"doc_ids": [32, 37], "content": "媒体之星有限公司的绿色产品开发时间更早，为2017年7月，而诚信消费品有限公司的开发时间为2020年8月。", "references": ["同时，公司还在2017年7月开发了环保型产品，减少对环境的影响，提升了产品的市场竞争力和品牌形象。", "为了减少对环境的影响，公司在2020年8月开发了一系列环保型产品。"], "keypoints": ["1. 媒体之星有限公司的绿色产品开发时间更早。", "2. 媒体之星有限公司的绿色产品开发时间为2017年7月。", "3. 诚信消费品有限公司的绿色产品开发时间为2020年8月。"]}, "prediction": {"content": "无法回答。", "references": []}, "ROUGELScore": 0.06451612782518212, "Words_Precision": 0.0, "Words_Recall": 0.0, "Sentences_Precision": 0.0, "Sentences_Recall": 0.0, "completeness": 0.3333333333333333, "hallucination": 0.0, "irrelevance": 0.6666666666666666, "responses": {"complete_ids": [1], "irrelevant_ids": [2, 3]}}
{"domain": "Finance", "language": "zh", "query": {"query_id": 2086, "query_type": "多文档信息整合问题", "content": "盈利家居服务有限公司和旅游乐园有限公司在2019年和2020年的净利润分别是多少？"}, "ground_truth": {"doc_ids": [34, 36], "content": "盈利家居服务有限公司在2019年的净利润是500万元，旅游乐园有限公司在2020年的净利润也是500万元。", "references": ["营业收入在2019年度达到了3000万元，净利润为500万元。", "根据财务报告显示，公司的营业收入为2000万元，净利润为500万元，总资产为5000万元，总负债为3000万元，股东权益为2000万元。"], "keypoints": ["1. 盈利家居服务有限公司在2019年的净利润是500万元。", "2. 旅游乐园有限公司在2020年的净利润也是500万元。"]}, "prediction": {"content": "无法回答。", "references": ["以上重要事件对公司的财务指标产生了显著影响。营业收入在2019年度达到了3000万元，净利润为500万元。总资产达到了8000万元，总负债为2000万元，股东权益为6000万元。现金流量为1000万元。负债比率为25%，资产负债率为20%。净资产收益率为8%。", "盈利家居服务有限公司是一家于2000年4月15日成立的位于上海市浦东新区的家政公司，主营业务包括提供高质量的保洁、家庭烹饪和陪伴照料等家政服务。该公司目前尚未上市。", "首先，公司在2019年1月进行了一次大规模的融资活动，募集了5000万元资金。这次融资活动加强了公司的资金实力，为公司的扩张和发展提供了有力支持。随后，在2019年2月，公司决定向股东分发1000万元股利，回报给股东们的投资，提升了股东的收益。这一举措进一步增强了公司的股东信心。", "这些指标的变化反映了公司在2019年度的经营状况和财务表现。营业收入的增加主要受益于公司的资产收购和业务扩张，而净利润的增长则得益于成本控制的效果和非经常性损益的影响。总资产的增加主要源于资产收购和资产重估，而总负债的减少则得益于债务重组和债务偿还。股东权益的增加主要受益于净利润的变化、股利发放和资本公积的影响。现金流量的变化主要受益于经营活动、投资活动和筹资活动的影响。", "为优化资本结构，公司在2019年3月进行了债务重组，减少了2000万元负债。这次债务重组改善了公司的财务状况，降低了财务成本。同时，公司在2019年5月进行了一次资产重组，优化了公司的业务结构。这次资产重组提高了公司的运营效率，增加了公司的价值。"]}, "ROUGELScore": 0.07142857010204084, "Words_Precision": 0.14193548387096774, "Words_Recall": 0.88, "Sentences_Precision": 0.046546546546546545, "Sentences_Recall": 0.31, "completeness": 0.0, "hallucination": 0.0, "irrelevance": 1.0, "responses": {"complete_ids": [], "irrelevant_ids": [1, 2], "hallucinate_ids": []}}
{"domain": "Law", "language": "zh", "query": {"query_id": 3775, "query_type": "事实性问题", "content": "根据夕照市晴川区人民法院的判决书，狄某某的职业是什么？"}, "ground_truth": {"doc_ids": [88], "content": "个体商户。", "references": ["**被告人：** 狄某某，女，1984年10月2日出生，汉族，个体商户，户籍所在地夕照市栗子街51号。"], "keypoints": ["1. 狄某某的职业是个体商户。"]}, "prediction": {"content": "狄某某的职业是个体商户。", "references": ["**被告人：** 狄某某，女，1984年10月2日出生，汉族，个体商户，户籍所在地夕照市栗子街51号。", "本院提醒被告人狄某某，知错能改，法律社会的规则是底线。希望被告人在服刑并缴纳罚金后，能够引以为戒，遵纪守法，重新为社会和自己的家庭贡献正能量。", "- **供货单据及证言**：批发市场内多家电子配件商店提供的供货单据及证言，确认狄某某向其供货。", "本案由夕照市晴川区市场监督管理局于2022年6月1日接到有关举报后着手调查，并于6月5日将初步发现的证据移交至警方，由警方于2022年6月10日对狄某某实施刑事拘留。之后，夕照市晴川区人民检察院于2022年6月20日批准对狄某某进行逮捕。本案经检察机关依法提起公诉，由本院受理，并于2023年3月15日依法公开开庭审理。", "被告人狄某某涉嫌销售假冒注册商标的商品罪。"]}, "ROUGELScore": 0.5454545414876033, "Words_Precision": 0.2184873949579832, "Words_Recall": 1.0, "Sentences_Precision": 0.14366197183098592, "Sentences_Recall": 1.0, "completeness": 1.0, "hallucination": 0.0, "irrelevance": 0.0, "responses": {"complete_ids": [1], "irrelevant_ids": [], "hallucinate_ids": []}}
{"domain": "Law", "language": "zh", "query": {"query_id": 3891, "query_type": "多跳推理问题", "content": "根据银杏市梧桐区人民法院的判决书，吕某某一共有几次犯罪行为？"}, "ground_truth": {"doc_ids": [99], "content": "根据判决书，吕某某一共有三次犯罪行为：2023年2月20日晚上9点的故意杀人行为，2023年2月20日晚间的作案工具处理行为，以及2023年3月14日傍晚的再次前往作案现场行为。", "references": ["在情绪失控的情况下，被告人吕某某突然从餐厅厨房拿出一把水果刀，冲向张某某并对其连续刺击。", "为了掩盖罪行，被告人吕某某在行凶后立即将作案工具清洗干净，并驶向银杏市梅雨河，将刀抛入河中。", "在案件发生后，被告人没有表现出悔意，反而在2023年3月14日傍晚，再次前往案发现场，企图获取当晚反抗及争吵所留下的证物，以掩盖其故意杀人的事实。"], "keypoints": ["1. 吕某某有三次犯罪行为。", "2. 犯罪行为包括2023年2月20日晚上9点的故意杀人、2023年2月20日晚间的作案工具处理以及2023年3月14日傍晚的再次前往作案现场。"]}, "prediction": {"content": "无法回答。", "references": ["被告人：吕某某，男，1993年9月21日生，汉族，银杏市梅雨街26号人，餐厅服务员。", "## 被告人吕某某供述", "被告人吕某某犯故意杀人罪，判处无期徒刑，剥夺政治权利终身。", "银杏市梧桐区人民检察院以银检刑诉〔2023〕102号起诉书指控被告人吕某某犯故意杀人罪，于2023年3月15日依法向本院提起公诉。本院受理后，依法组成合议庭，公开开庭进行了审理。银杏市梧桐区人民检察院指派检察员王某某、刘某某出庭支持公诉，被告人吕某某及其辩护人方某到庭参加诉讼。现已审理终结。", "本院认为，被告人吕某某的行为已构成故意杀人罪，其行为手段残忍，后果严重，社会危害性极大，给受害人的家庭造成极大痛苦。考虑到被告人在庭审过程中如实供述犯罪事实，具有一定的悔罪表现，根据相关法律规定，可酌情从轻处罚，但其犯案情节特别严重，不宜减轻处罚幅度过大。"]}, "ROUGELScore": 0.0384615377218935, "Words_Precision": 0.1557377049180328, "Words_Recall": 0.2602739726027397, "Sentences_Precision": 0.0, "Sentences_Recall": 0.0, "completeness": 0.5, "hallucination": 0.5, "irrelevance": 0.0, "responses": {"complete_ids": [1], "irrelevant_ids": [], "hallucinate_ids": []}}
{"domain": "Law", "language": "zh", "query": {"query_id": 4077, "query_type": "多文档对比问题", "content": "根据夕照市晴川区人民法院和银杏市橄榄区人民法院的判决书，狄某某和孙某的判刑时间谁更长？"}, "ground_truth": {"doc_ids": [88, 101], "content": "狄某某被判处有期徒刑四年，孙某被判处有期徒刑三年。狄某某的判刑时间更长。", "references": ["被告人狄某某，犯销售假冒注册商标的商品罪，判处有期徒刑四年，并处罚金人民币二十万元。", "被告人孙某犯过失致人死亡罪，判处有期徒刑三年。"], "keypoints": ["1. 狄某某被判处有期徒刑四年。", "2. 孙某被判处有期徒刑三年。", "3. 狄某某的判刑时间更长。"]}, "prediction": {"content": "无法回答。", "references": ["本院提醒被告人狄某某，知错能改，法律社会的规则是底线。希望被告人在服刑并缴纳罚金后，能够引以为戒，遵纪守法，重新为社会和自己的家庭贡献正能量。", "**被告人：** 狄某某，女，1984年10月2日出生，汉族，个体商户，户籍所在地夕照市栗子街51号。", "本判决作出后，被告人狄某某有权在收到判决书之日起十日内，通过本院或直接向夕照市中级人民法院提出上诉。上诉状应写明上诉的具体理由和请求，并附上本院判决书副本一份。", "### 七、量刑考量", "本案由夕照市晴川区市场监督管理局于2022年6月1日接到有关举报后着手调查，并于6月5日将初步发现的证据移交至警方，由警方于2022年6月10日对狄某某实施刑事拘留。之后，夕照市晴川区人民检察院于2022年6月20日批准对狄某某进行逮捕。本案经检察机关依法提起公诉，由本院受理，并于2023年3月15日依法公开开庭审理。"]}, "ROUGELScore": 0.09090908925619837, "Words_Precision": 0.05426356589147287, "Words_Recall": 0.2916666666666667, "Sentences_Precision": 0.0, "Sentences_Recall": 0.0, "completeness": 0.6666666666666666, "hallucination": 0.3333333333333333, "irrelevance": 0.0, "responses": {"complete_ids": [1, 2], "irrelevant_ids": [], "hallucinate_ids": []}}
{"domain": "Law", "language": "zh", "query": {"query_id": 4193, "query_type": "多文档信息整合问题", "content": "根据烟波市苹果区人民法院和芒果市梧桐区人民法院的判决书，罗某和曹某分别犯了什么罪？"}, "ground_truth": {"doc_ids": [96, 107], "content": "根据烟波市苹果区人民法院的判决书，罗某犯了盗窃罪；根据芒果市梧桐区人民法院的判决书，曹某犯了挪用公款罪。", "references": ["本院认为，被告人罗某以非法占有为目的，多次在公共场所实施盗窃行为，数额巨大，社会危害性较大，其行为已构成盗窃罪。", "一、被告人罗某犯盗窃罪，判处有期徒刑五年，并处罚金五万元。", "被告人曹某犯挪用公款罪，判处有期徒刑十年，不适用缓刑。"], "keypoints": ["1. 烟波市苹果区人民法院的判决书中，罗某犯了盗窃罪。", "2. 芒果市梧桐区人民法院的判决书中，曹某犯了挪用公款罪。"]}, "prediction": {"content": "无法回答。", "references": ["综上所述，依据相关法律规定，对被告人罗某判处以下刑罚：", "本院在查明犯罪事实后，对于被告人曹某的量刑做了详细的考虑与权衡：", "被告人：曹某，男，1970年3月21日出生，汉族，芒果市财政局财务科科长，住芒果市翠湖街29号。", "3. 悔过态度及配合调查：办理该案过程中，曹某表现出较好的悔过态度，并主动交代了大部分犯罪事实，积极配合办案机关的调查工作，提供了较为详细的资金流向说明材料。因此，本院在对其量刑时予以酌情从轻处罚的考虑。", "被告人曹某，以及芒果市梧桐区人民检察院如不服本判决，可在接到判决书的第二日起十日内，通过本院或者直接向芒果市中级人民法院提出上诉。书面上诉须提交上诉状正本一份，副本二份。"]}, "ROUGELScore": 0.06451612782518212, "Words_Precision": 0.07964601769911504, "Words_Recall": 0.225, "Sentences_Precision": 0.0, "Sentences_Recall": 0.0, "completeness": 1.0, "hallucination": 0.0, "irrelevance": 0.0, "responses": {"complete_ids": [1, 2], "irrelevant_ids": [], "hallucinate_ids": []}}
{"domain": "Law", "language": "zh", "query": {"query_id": 4309, "query_type": "多文档信息整合问题", "content": "根据彩虹市桐城区人民法院和雾岛市银杏区人民法院的判决书，被告人费某和潘某某的职业分别是什么？"}, "ground_truth": {"doc_ids": [81, 109], "content": "根据彩虹市桐城区人民法院的判决书，被告人费某是出租车司机；根据雾岛市银杏区人民法院的判决书，被告人潘某某是雾岛市财政局会计主管。", "references": ["**被告人**：费某，女，1992年7月14日出生，汉族，彩虹市青竹街7号居住，职业为出租车司机。", "被告人：潘某某，男，1973年12月16日生，汉族，雾岛市财政局会计主管，住雾岛市樟树街41号。"], "keypoints": ["1. 被告人费某的职业是出租车司机。", "2. 被告人潘某某的职业是雾岛市财政局会计主管。"]}, "prediction": {"content": "费某的职业是出租车司机，潘某某的职业是雾岛市财政局会计主管。", "references": ["**被告人**：费某，女，1992年7月14日出生，汉族，彩虹市青竹街7号居住，职业为出租车司机。", "被告人：潘某某，男，1973年12月16日生，汉族，雾岛市财政局会计主管，住雾岛市樟树街41号。", "2. 被告人潘某某认罪态度较好，并在案件调查期间配合公安机关查清了事实，展现了一定悔过表现。", "基于上述情况，本院决定对被告人潘某某酌情从轻处罚。", "被告人费某犯交通肇事罪，判处有期徒刑三年，缓刑五年。缓刑考验期限，自判决确定之日起算。"]}, "ROUGELScore": 0.5490196032756632, "Words_Precision": 0.4819277108433735, "Words_Recall": 1.0, "Sentences_Precision": 0.4511627906976744, "Sentences_Recall": 0.9897959183673469, "completeness": 1.0, "hallucination": 0.0, "irrelevance": 0.0, "responses": {"complete_ids": [1, 2], "irrelevant_ids": [], "hallucinate_ids": []}}
{"domain": "Medical", "language": "zh", "query": {"query_id": 5207, "query_type": "多跳推理问题", "content": "根据金丝市人民医院的住院病历，郝某某的诊断依据有几项？"}, "ground_truth": {"doc_ids": [147], "content": "根据病历，郝某某的诊断依据有2项，分别为病史（急性皮肤红肿、热痛）和体格检查（局部红肿、热感、触痛）。", "references": ["患者于3天前无明显诱因下发现左小腿皮肤红肿、热痛，呈急性发作。", "左小腿皮肤出现局部红肿、热痛，红肿区域直径约3厘米，局部触痛明显，无发热等全身不适。", "系统检查：皮肤左小腿局部红肿，触痛，局部热感，无皮疹。", "四肢左小腿局部红肿，触痛。", "专科检查：左小腿局部红肿，触痛，局部热感，无波动感。", "诊断依据：根据患者病史（急性皮肤红肿、热痛），体格检查（局部红肿、热感、触痛），诊断为疖子。"], "keypoints": ["1. 郝某某的诊断依据有2项。", "2. 诊断依据包括病史和体格检查。"]}, "prediction": {"content": "无法回答。", "references": ["姓名：郝某某  性别：男  年龄：59岁  民族：汉族", "以上为病历全文。", "住院病历", "辅助检查：未进行特殊检查。", "现病史："]}, "ROUGELScore": 0.05714285606530614, "Words_Precision": 0.20833333333333334, "Words_Recall": 0.10638297872340426, "Sentences_Precision": 0.0, "Sentences_Recall": 0.0, "completeness": 0.5, "hallucination": 0.5, "irrelevance": 0.0, "responses": {"complete_ids": [1], "irrelevant_ids": [], "hallucinate_ids": []}}
{"domain": "Medical", "language": "zh", "query": {"query_id": 5322, "query_type": "事实性问题", "content": "根据丝路市人民医院的住院病历，苏某某的初步诊断结果是什么？"}, "ground_truth": {"doc_ids": [156], "content": "生长激素腺瘤（GH腺瘤）", "references": ["初步诊断: 生长激素腺瘤（GH腺瘤）", "- 首次病程记录: 入院后行详细病史采集及体格检查，初步诊断为生长激素腺瘤（GH腺瘤）。"], "keypoints": ["1. 苏某某的初步诊断结果是生长激素腺瘤（GH腺瘤）。"]}, "prediction": {"content": "无法回答。", "references": ["患者姓名: 苏某某", "初步诊断：", "诊断依据：", "鉴别诊断：", "诊断依据:"]}, "ROUGELScore": 0.0, "Words_Precision": 0.3, "Words_Recall": 0.13043478260869565, "Sentences_Precision": 0.0, "Sentences_Recall": 0.0, "completeness": 1.0, "hallucination": 0.0, "irrelevance": 0.0, "responses": {"complete_ids": [1], "irrelevant_ids": [], "hallucinate_ids": []}}
{"domain": "Medical", "language": "zh", "query": {"query_id": 5438, "query_type": "总结性问题", "content": "根据薄雾市人民医院的住院病历，总结元某某的治疗方案。"}, "ground_truth": {"doc_ids": [169], "content": "元某某的治疗方案包括控制症状，缓解病情，定期复查决定是否手术。指导患者避免眼部劳累及强光照射。长期医嘱为继续观察视力变化，定期复查；临时医嘱为低光强环境下阅读，避免眼部劳累，适时戴眼镜。", "references": ["初步诊疗计划：控制症状，缓解病情，定期复查决定是否手术。", "指导患者避免眼部劳累及强光照射。", "长期医嘱单：继续观察视力变化，定期复查", "临时医嘱单：低光强环境下阅读，避免眼部劳累，适时戴眼镜"], "keypoints": ["1. 治疗方案包括控制症状，缓解病情，定期复查决定是否手术。", "2. 指导患者避免眼部劳累及强光照射。", "3. 长期医嘱为继续观察视力变化，定期复查。", "4. 临时医嘱为低光强环境下阅读，避免眼部劳累，适时戴眼镜。"]}, "prediction": {"content": "无法回答。", "references": ["患者姓名：元某某", "详细病历全文结束。", "出院记录：无", "初步诊断", "会诊记录：无"]}, "ROUGELScore": 0.03571428502551022, "Words_Precision": 0.25, "Words_Recall": 0.10526315789473684, "Sentences_Precision": 0.0, "Sentences_Recall": 0.0, "completeness": 0.5, "hallucination": 0.0, "irrelevance": 0.5, "responses": {"complete_ids": [1, 4], "irrelevant_ids": [2, 3]}}
{"domain": "Medical", "language": "zh", "query": {"query_id": 5609, "query_type": "多文档时间序列问题", "content": "根据青龙市人民医院和银杏市第一人民医院的住院病历，廉某某和蓝某某的入院时间谁更早？"}, "ground_truth": {"doc_ids": [145, 163], "content": "廉某某于5月14日入院，蓝某某于12月20日入院。廉某某的入院时间更早。", "references": ["患者于2021年5月14日入院，经检查与评估，初步诊断为急性血吸虫病。", "入院时间：12月20日"], "keypoints": ["1. 廉某某于5月14日入院。", "2. 蓝某某于12月20日入院。", "3. 廉某某的入院时间更早。"]}, "prediction": {"content": "无法回答。", "references": ["姓名：廉某某", "入院记录：", "入院后病程记录：", "首次病程记录：", "以上为本次病人的住院病历，附医生诊断和治疗意见。"]}, "ROUGELScore": 0.07142857010204084, "Words_Precision": 0.25, "Words_Recall": 0.25, "Sentences_Precision": 0.0, "Sentences_Recall": 0.0, "completeness": 0.6666666666666666, "hallucination": 0.3333333333333333, "irrelevance": 0.0, "responses": {"complete_ids": [1, 3], "irrelevant_ids": [], "hallucinate_ids": []}}
{"domain": "Medical", "language": "zh", "query": {"query_id": 5725, "query_type": "多文档对比问题", "content": "根据梅雨市第一人民医院和香山市人民医院的住院病历，彭某某和于某某的体温谁更高？"}, "ground_truth": {"doc_ids": [152, 159], "content": "彭某某的体温为37.8℃，于某某的体温为36.5℃。彭某某的体温更高。", "references": ["- 体温：37.8℃", "一般情况：体温36.5°C，脉搏108次/分，呼吸20次/分，血压130/85 mmHg。", "体温单：体温36.5°C，脉搏108次/分，呼吸20次/分，血压130/85 mmHg。"], "keypoints": ["1. 彭某某的体温为37.8℃。", "2. 于某某的体温为36.5℃。", "3. 彭某某的体温更高。"]}, "prediction": {"content": "无法回答。", "references": ["- 体温：37.8℃", "姓名：彭某某", "  - 体温：37.8℃", "  - 体温：37.6℃", "体温单："]}, "ROUGELScore": 0.08333333180555559, "Words_Precision": 0.6, "Words_Recall": 0.25, "Sentences_Precision": 0.20833333333333334, "Sentences_Recall": 0.09900990099009901, "completeness": 0.6666666666666666, "hallucination": 0.3333333333333333, "irrelevance": 0.0, "responses": {"complete_ids": [1, 2], "irrelevant_ids": [], "hallucinate_ids": []}}
{"domain": "Medical", "language": "zh", "query": {"query_id": 5841, "query_type": "多文档对比问题", "content": "根据桃花市人民医院和橡树市人民医院的住院病历，何某某和云某某的脉搏次数谁更高？"}, "ground_truth": {"doc_ids": [157, 151], "content": "何某某的脉搏次数为72次/分，云某某的脉搏次数为78次/分。云某某的脉搏次数更高。", "references": ["脉搏：72次/分", "脉搏：78次/分"], "keypoints": ["1. 何某某的脉搏次数为72次/分。", "2. 云某某的脉搏次数为78次/分。", "3. 云某某的脉搏次数更高。"]}, "prediction": {"content": "何某某的脉搏更高。", "references": ["脉搏：78次/分", "脉搏：72次/分", "鉴别诊断：", "呼吸：18次/分", "体温单：体温：36.5℃，脉搏：72次/分，呼吸：18次/分，血压：120/80 mmHg"]}, "ROUGELScore": 0.34285714001632656, "Words_Precision": 0.35, "Words_Recall": 1.0, "Sentences_Precision": 0.20512820512820512, "Sentences_Recall": 0.9411764705882353, "completeness": 0.6666666666666666, "hallucination": 0.3333333333333333, "irrelevance": 0.0, "responses": {"complete_ids": [1, 2], "irrelevant_ids": [], "hallucinate_ids": []}}

    </script>
    <script>
        let currentData = [];
        let baselineData = new Map(); // Store baseline data by query_id
        let baselineMetrics = new Map(); // Store baseline metrics by metric name

        document.addEventListener('DOMContentLoaded', function () {
            const initialDataElement = document.getElementById('initial-data');
            if (initialDataElement) {
                const content = initialDataElement.textContent.trim();
                if (content) {
                    const lines = content.split('\n');
                    const parsedData = lines.map(line => {
                        try {
                            const item = JSON.parse(line);
                            // Calculate F1 scores on load
                            if (item) {
                                const sentPrec = item.Sentences_Precision || 0;
                                const sentRec = item.Sentences_Recall || 0;
                                item.Sentences_F1 = (sentPrec + sentRec) > 0 ? (2 * sentPrec * sentRec) / (sentPrec + sentRec) : 0;

                                const wordPrec = item.Words_Precision || 0;
                                const wordRec = item.Words_Recall || 0;
                                item.Words_F1 = (wordPrec + wordRec) > 0 ? (2 * wordPrec * wordRec) / (wordPrec + wordRec) : 0;
                            }
                            return item;
                        } catch (e) {
                            return null;
                        }
                    }).filter(item => item !== null);

                    if (parsedData.length > 0) {
                        // Initialize baseline data
                        parsedData.forEach(item => {
                            if (item.query && item.query.query_id) {
                                baselineData.set(item.query.query_id, item);
                            }
                        });

                        // Set current data to initial data as well
                        currentData = parsedData;

                        // Default sort by query_id
                        currentData.sort((a, b) => {
                            let valA = a.query?.query_id ?? 0;
                            let valB = b.query?.query_id ?? 0;
                            return valA - valB;
                        });

                        document.getElementById('file-name').textContent = 'Baseline on 1204 submitted';
                        renderDashboard();
                    }
                }
            }
        });

        document.getElementById('file-upload').addEventListener('change', function (e) {
            const file = e.target.files[0];
            if (!file) return;

            const fileNameElement = document.getElementById('file-name');
            if (fileNameElement) {
                fileNameElement.textContent = file.name;
            } else {
                console.error('Element with id "file-name" not found');
            }

            const reader = new FileReader();
            reader.onload = function (e) {
                const content = e.target.result;
                const lines = content.trim().split('\n');
                currentData = lines.map(line => {
                    try {
                        const item = JSON.parse(line);
                        // Calculate F1 scores on load
                        if (item) {
                            const sentPrec = item.Sentences_Precision || 0;
                            const sentRec = item.Sentences_Recall || 0;
                            item.Sentences_F1 = (sentPrec + sentRec) > 0 ? (2 * sentPrec * sentRec) / (sentPrec + sentRec) : 0;

                            const wordPrec = item.Words_Precision || 0;
                            const wordRec = item.Words_Recall || 0;
                            item.Words_F1 = (wordPrec + wordRec) > 0 ? (2 * wordPrec * wordRec) / (wordPrec + wordRec) : 0;
                        }
                        return item;
                    } catch (e) {
                        return null;
                    }
                }).filter(item => item !== null);

                // Default sort by query_id
                currentData.sort((a, b) => {
                    let valA = a.query?.query_id ?? 0;
                    let valB = b.query?.query_id ?? 0;
                    return valA - valB;
                });

                renderDashboard();
                renderAvgBaseline();
            };
            reader.readAsText(file);
        });

        function renderAvgBaseline() {
            const metrics = {
                'ROUGELScore': 'avg-rouge',
                'Words_Precision': 'avg-words-precision',
                'Words_Recall': 'avg-words-recall',
                'Words_F1': 'avg-words-f1',
                'Sentences_Precision': 'avg-sentences-precision',
                'Sentences_Recall': 'avg-sentences-recall',
                'Sentences_F1': 'avg-sentences-f1',
                'completeness': 'avg-completeness',
                'hallucination': 'avg-hallucination',
                'irrelevance': 'avg-irrelevance'
            };
            Object.keys(metrics).forEach(metric => {
                const baselineElementId = metrics[metric] + '-bs';
                const baselineElement = document.getElementById(baselineElementId);
                if (baselineElement && baselineMetrics.has(metric)) {
                    baselineElement.textContent = baselineMetrics.get(metric);
                    baselineElement.style.opacity = '1';
                } else {
                    console.error(`Element with id "${baselineElementId}" not found`);
                }
            });
        }
        function renderDashboard() {
            document.getElementById('dashboard').style.display = 'block';
            calculateAverages();
            renderTable();
        }

        function calculateAverages() {
            const metrics = {
                'ROUGELScore': 'avg-rouge',
                'Words_Precision': 'avg-words-precision',
                'Words_Recall': 'avg-words-recall',
                'Words_F1': 'avg-words-f1',
                'Sentences_Precision': 'avg-sentences-precision',
                'Sentences_Recall': 'avg-sentences-recall',
                'Sentences_F1': 'avg-sentences-f1',
                'completeness': 'avg-completeness',
                'hallucination': 'avg-hallucination',
                'irrelevance': 'avg-irrelevance'
            };

            Object.keys(metrics).forEach(metric => {
                const sum = currentData.reduce((acc, item) => acc + (item[metric] || 0), 0);
                const avg = sum / currentData.length;
                const elementId = metrics[metric];
                const element = document.getElementById(elementId);
                if (element) {
                    element.textContent = avg.toFixed(3);
                }
                if (!baselineMetrics.has(metric)) {
                    baselineMetrics.set(metric, avg.toFixed(3));
                } else {
                    const avgElementId = metrics[metric] + '-bs';
                    const avgElement = document.getElementById(avgElementId);
                    let color = 'black';
                    if (avg < baselineMetrics.get(metric)) {
                        color = 'var(--danger-color)';
                    } else if (avg > baselineMetrics.get(metric)) {
                        color = 'var(--success-color)';
                    }
                    if (metric == 'hallucination' || metric == 'irrelevance') {
                        if (avg < baselineMetrics.get(metric)) {
                            color = 'var(--success-color)';
                        } else if (avg > baselineMetrics.get(metric)) {
                            color = 'var(--danger-color)';
                        }
                    }
                    if (avgElement) {
                        avgElement.style.color = color;
                    }
                }
            });
        }

        function getColorClass(value) {
            if (value >= 0.7) return 'score-high';
            if (value >= 0.4) return 'score-med';
            return 'score-low';
        }

        // Inverse color logic for negative metrics like hallucination/irrelevance
        function getInverseColorClass(value) {
            if (value <= 0.3) return 'score-high';
            if (value <= 0.6) return 'score-med';
            return 'score-low';
        }

        function getDiffHtml(currentVal, baselineVal) {
            if (baselineVal === undefined || baselineVal === null) return '';

            const diff = currentVal - baselineVal;
            if (Math.abs(diff) < 0.001) return '<span class="diff-neutral">(=)</span>';

            const sign = diff > 0 ? '+' : '';
            const className = diff > 0 ? 'diff-positive' : 'diff-negative';
            return `<span class="${className}">(${sign}${diff.toFixed(3)})</span>`;
        }

        function renderTable() {
            const tbody = document.getElementById('table-body');
            tbody.innerHTML = '';

            currentData.forEach((item, index) => {
                const row = document.createElement('tr');
                const queryId = item.query?.query_id ?? 'N/A';
                const queryText = item.query?.content ?? 'N/A';

                // Get baseline item
                const baselineItem = baselineData.get(queryId);

                row.innerHTML = `
                    <td><button class="expand-btn" onclick="toggleDetails(${index})">▶</button></td>
                    <td>${queryId}</td>
                    <td>${item.query?.query_type}</td>
                    <td class="score-cell ${getColorClass(item.Sentences_Precision)}">
                        ${(item.Sentences_Precision || 0).toFixed(3)}
                        ${baselineItem ? getDiffHtml(item.Sentences_Precision, baselineItem.Sentences_Precision) : ''}
                    </td>
                    <td class="score-cell ${getColorClass(item.Sentences_Recall)}">
                        ${(item.Sentences_Recall || 0).toFixed(3)}
                        ${baselineItem ? getDiffHtml(item.Sentences_Recall, baselineItem.Sentences_Recall) : ''}
                    </td>
                    <td class="score-cell ${getColorClass(item.Sentences_F1)}">
                        ${(item.Sentences_F1 || 0).toFixed(3)}
                        ${baselineItem ? getDiffHtml(item.Sentences_F1, baselineItem.Sentences_F1) : ''}
                    </td>
                    <td class="score-cell ${getColorClass(item.Words_Precision)}">
                        ${(item.Words_Precision || 0).toFixed(3)}
                        ${baselineItem ? getDiffHtml(item.Words_Precision, baselineItem.Words_Precision) : ''}
                    </td>
                    <td class="score-cell ${getColorClass(item.Words_Recall)}">
                        ${(item.Words_Recall || 0).toFixed(3)}
                        ${baselineItem ? getDiffHtml(item.Words_Recall, baselineItem.Words_Recall) : ''}
                    </td>
                    <td class="score-cell ${getColorClass(item.Words_F1)}">
                        ${(item.Words_F1 || 0).toFixed(3)}
                        ${baselineItem ? getDiffHtml(item.Words_F1, baselineItem.Words_F1) : ''}
                    </td>
                    <td class="score-cell ${getColorClass(item.ROUGELScore)}">
                        ${(item.ROUGELScore || 0).toFixed(3)}
                        ${baselineItem ? getDiffHtml(item.ROUGELScore, baselineItem.ROUGELScore) : ''}
                    </td>
                    <td class="score-cell ${getColorClass(item.completeness)}">
                        ${(item.completeness || 0).toFixed(3)}
                        ${baselineItem ? getDiffHtml(item.completeness, baselineItem.completeness) : ''}
                    </td>
                    <td class="score-cell ${getInverseColorClass(item.hallucination)}">
                        ${(item.hallucination || 0).toFixed(3)}
                        ${baselineItem ? getDiffHtml(item.hallucination, baselineItem.hallucination) : ''}
                    </td>
                    <td class="score-cell ${getInverseColorClass(item.irrelevance)}">
                        ${(item.irrelevance || 0).toFixed(3)}
                        ${baselineItem ? getDiffHtml(item.irrelevance, baselineItem.irrelevance) : ''}
                    </td>
                `;
                tbody.appendChild(row);

                const detailsRow = document.createElement('tr');
                detailsRow.className = 'details-row';
                detailsRow.id = `details-${index}`;

                // Format References
                let referencesHtml = '';
                if (item.prediction?.references && item.prediction.references.length > 0) {
                    referencesHtml = '<ul class="references-list">' +
                        item.prediction.references.map(ref => `<li>${ref}</li>`).join('') +
                        '</ul>';
                } else {
                    referencesHtml = '<p class="detail-text">No references found.</p>';
                }

                let ground_truth_referencesHtml = '';
                if (item.ground_truth?.references && item.ground_truth.references.length > 0) {
                    ground_truth_referencesHtml = '<ul class="references-list">' +
                        item.ground_truth.references.map(ref => `<li>${ref}</li>`).join('') +
                        '</ul>';
                } else {
                    ground_truth_referencesHtml = '<p class="detail-text">No references found.</p>';
                }

                // Format Ground Truth Keypoints
                let keypointsHtml = '';
                if (item.ground_truth?.keypoints && item.ground_truth.keypoints.length > 0) {
                    keypointsHtml = '<ul class="references-list">' +
                        item.ground_truth.keypoints.map(kp => `<li>${kp}</li>`).join('') +
                        '</ul>';
                } else {
                    keypointsHtml = '<p class="detail-text">No keypoints found.</p>';
                }

                // Format Responses (Keypoint Analysis)
                let responsesHtml = '';
                if (item.responses) {
                    try {
                        const responsesObj = typeof item.responses === 'string' ? JSON.parse(item.responses) : item.responses;
                        responsesHtml = `
                            <div class="detail-text">
                                <div><strong>Complete IDs:</strong> ${responsesObj.complete_ids?.join(', ') || 'None'}</div>
                                <div><strong>Irrelevant IDs:</strong> ${responsesObj.irrelevant_ids?.join(', ') || 'None'}</div>
                                <div><strong>Hallucinate IDs:</strong> ${responsesObj.hallucinate_ids?.join(', ') || 'None'}</div>
                            </div>
                        `;
                    } catch (e) {
                        responsesHtml = `<div class="detail-text">${item.responses}</div>`;
                    }
                } else {
                    responsesHtml = '<p class="detail-text">No response analysis available.</p>';
                }


                detailsRow.innerHTML = `
                    <td colspan="12">
                        <div class="details-content">
                            <div class="detail-section">
                                <div class="detail-title">Full Query</div>
                                <div class="detail-text">${queryText}</div>
                            </div>
                            <div class="detail-section">
                                <div class="detail-title">Prediction Content</div>
                                <div class="detail-text">${item.prediction?.content || 'N/A'}</div>
                            </div>
                            <div class="detail-section">
                                <div class="detail-title">Ground Truth Content</div>
                                <div class="detail-text">${item.ground_truth?.content || 'N/A'}</div>
                            </div>
                            <div class="detail-section">
                                <div class="detail-title">Prediction References (${item.prediction.references.length})</div>
                                ${referencesHtml}
                            </div>
                            <div class="detail-section">
                                <div class="detail-title">Ground Truth References (${item.ground_truth.references.length})</div>
                                ${ground_truth_referencesHtml}
                            </div>
                             <div class="detail-section">
                                <div class="detail-title">Ground Truth Keypoints (${item.ground_truth.keypoints.length})</div>
                                ${keypointsHtml}
                            </div>
                             <div class="detail-section">
                                <div class="detail-title">Keypoint Analysis (Responses)</div>
                                ${responsesHtml}
                            </div>
                        </div>
                    </td>
                `;
                tbody.appendChild(detailsRow);
            });
        }

        function toggleDetails(index) {
            const row = document.getElementById(`details-${index}`);
            const btn = document.querySelector(`tr:nth-child(${index * 2 + 1}) .expand-btn`);
            if (row.style.display === 'table-row') {
                row.style.display = 'none';
                btn.textContent = '▶';
            } else {
                row.style.display = 'table-row';
                btn.textContent = '▼';
            }
        }

        let sortDirection = 1;
        function sortTable(key) {
            sortDirection *= -1;
            currentData.sort((a, b) => {
                let valA = key === 'query_id' ? (a.query?.query_id ?? 0) : (a[key] || 0);
                let valB = key === 'query_id' ? (b.query?.query_id ?? 0) : (b[key] || 0);

                if (valA < valB) return -1 * sortDirection;
                if (valA > valB) return 1 * sortDirection;
                return 0;
            });
            renderTable();
        }
    </script>
</body>

</html>